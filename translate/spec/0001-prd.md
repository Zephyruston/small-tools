# 翻译工具产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称

简易翻译 CLI 工具

### 1.2 产品定位

一款命令行界面的翻译工具，主要用于中文到英文的快速翻译。用户可以通过简单的命令行指令，输入中文词汇或短语，获取对应的英文翻译结果。

### 1.3 核心功能

- 通过命令行进行中文到英文的翻译
- 优先使用本地词库进行翻译
- 支持接入 AI 翻译服务以处理本地词库未覆盖的词汇
- 提供简洁易用的命令行接口

## 2. 目标用户与使用场景

### 2.1 目标用户

- 开发者：在编写代码注释或文档时需要快速翻译中文术语
- 学生：在学习过程中需要翻译专业术语或短语
- 写作者：在撰写英文文档时需要快速查找中文对应的英文表达
- 普通用户：日常需要进行简单中英翻译的用户

### 2.2 使用场景

- 在终端中直接输入命令进行词汇翻译
- 在编写代码或文档时快速查找英文术语
- 学习或工作中需要快速获取英文翻译结果

## 3. 功能需求

### 3.1 核心功能

#### 3.1.1 基础翻译功能

- 用户可以通过命令行输入`translate "中文词汇"`进行翻译
- 系统优先从本地词库查询翻译结果
- 如果本地词库未找到对应翻译，则调用 AI 翻译服务
- 返回翻译结果给用户

#### 3.1.2 本地词库管理

- 内置常用词汇的中英对照词库
- 支持词库的扩展和更新
- 提供高效的词库查询机制

#### 3.1.3 AI 翻译集成

- 调用翻译 llm 的 api
- 当本地词库无法提供翻译时，自动调用 AI 翻译，或者用户--ai 指定 llm 翻译
- 处理 AI 翻译结果并返回给用户

### 3.2 用户故事

#### 用户故事 1：基础翻译

- 作为用户，我希望在命令行中输入中文词汇，能够快速得到英文翻译，以便于我在编写文档时使用。

#### 用户故事 2：本地词库优先

- 作为用户，我希望系统优先使用本地词库进行翻译，以提高响应速度并减少网络请求。

#### 用户故事 3：AI 翻译补充

- 作为用户，当本地词库没有我需要的词汇时，我希望系统能自动调用 AI 翻译服务，确保我能得到翻译结果。

## 4. 非功能性需求

### 4.1 性能需求

- 本地词库查询响应时间不超过 100ms
- AI 翻译服务调用响应时间不超过 2 秒
- 支持并发用户请求处理

### 4.2 可用性需求

- 命令行接口简洁明了，易于使用
- 提供清晰的错误提示信息
- 支持常见操作系统的安装和运行

### 4.3 可维护性需求

- 代码结构清晰，易于扩展和维护
- 提供详细的开发文档和使用说明
- 本地词库采用易于编辑的格式（如 JSON 或 CSV）

### 4.4 安全性需求

- 不在本地存储用户的查询记录
- 保护 AI 翻译服务的 API 密钥，避免泄露

## 5. 技术实现方案

### 5.1 技术选型

- 编程语言：rust
- 本地词库格式：JSON
- AI 翻译服务：llm api
- 命令行接口：使用标准库实现

### 5.2 系统架构

```
+-------------------+
|   用户命令行输入   |
+-------------------+
          |
          v
+-------------------+
|   命令行解析模块   |
+-------------------+
          |
          v
+-------------------+
|   本地词库查询模块 |
+-------------------+
          |
    +-----+-----+
    |           |
    v           v
+-------+   +-----------+
| 找到  |   | 未找到     |
+-------+   +-----------+
    |           |
    v           v
+-------+   +-----------+
| 返回  |   | AI翻译模块 |
| 结果  |   +-----------+
+-------+       |
                v
            +-------+
            | 返回  |
            | 结果  |
            +-------+
```

### 5.3 数据存储

- 本地词库：采用 JSON 格式存储中英词汇对照表
- 配置文件：存储 AI 翻译服务的 API 密钥和其他配置信息

## 6. 实施路线图

### 第一阶段：基础功能开发 (2 周)

- 实现命令行接口
- 实现本地词库查询功能
- 实现基本的中英翻译功能

### 第二阶段：AI 翻译集成 (2 周)

- 集成 AI 翻译服务
- 实现本地词库未命中时调用 AI 翻译
- 优化翻译结果的处理和展示

### 第三阶段：功能完善与优化 (1 周)

- 添加词库管理功能
- 优化性能和响应速度
- 完善错误处理机制

### 第四阶段：测试与发布 (1 周)

- 进行全面测试
- 编写使用文档
- 发布正式版本
